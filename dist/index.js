import e,{useRef as t,useState as r,useEffect as n}from"react";var o=function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)};function a(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function c(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,c)}s((n=n.apply(e,t||[])).next())}))}function i(e,t){var r,n,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&c[0]?n.return:c[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,c[1])).done)return o;switch(n=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,n=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],n=0}finally{r=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}}function c(e,t,r){if(r||2===arguments.length)for(var n,o=0,a=t.length;o<a;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var s,l={exports:{}},u={};var f,p,d={};
/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function y(){return f||(f=1,"production"!==process.env.NODE_ENV&&function(){var t=e,r=Symbol.for("react.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),m=Symbol.iterator;var g=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function h(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];!function(e,t,r){var n=g.ReactDebugCurrentFrame,o=n.getStackAddendum();""!==o&&(t+="%s",r=r.concat([o]));var a=r.map((function(e){return String(e)}));a.unshift("Warning: "+t),Function.prototype.apply.call(console[e],console,a)}("error",e,r)}var b;function w(e){return e.displayName||"Context"}function x(e){if(null==e)return null;if("number"==typeof e.tag&&h("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),"function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case o:return"Fragment";case n:return"Portal";case i:return"Profiler";case a:return"StrictMode";case u:return"Suspense";case f:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case s:return w(e)+".Consumer";case c:return w(e._context)+".Provider";case l:return function(e,t,r){var n=e.displayName;if(n)return n;var o=t.displayName||t.name||"";return""!==o?r+"("+o+")":r}(e,e.render,"ForwardRef");case p:var t=e.displayName||null;return null!==t?t:x(e.type)||"Memo";case y:var r=e,d=r._payload,v=r._init;try{return x(v(d))}catch(e){return null}}return null}b=Symbol.for("react.module.reference");var k,j,_,S,E,O,R,C=Object.assign,I=0;function Y(){}Y.__reactDisabledLog=!0;var P,N=g.ReactCurrentDispatcher;function T(e,t,r){if(void 0===P)try{throw Error()}catch(e){var n=e.stack.trim().match(/\n( *(at )?)/);P=n&&n[1]||""}return"\n"+P+e}var $,D=!1,F="function"==typeof WeakMap?WeakMap:Map;function M(e,t){if(!e||D)return"";var r,n=$.get(e);if(void 0!==n)return n;D=!0;var o,a=Error.prepareStackTrace;Error.prepareStackTrace=void 0,o=N.current,N.current=null,function(){if(0===I){k=console.log,j=console.info,_=console.warn,S=console.error,E=console.group,O=console.groupCollapsed,R=console.groupEnd;var e={configurable:!0,enumerable:!0,value:Y,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}I++}();try{if(t){var i=function(){throw Error()};if(Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(i,[])}catch(e){r=e}Reflect.construct(e,[],i)}else{try{i.call()}catch(e){r=e}e.call(i.prototype)}}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var c=t.stack.split("\n"),s=r.stack.split("\n"),l=c.length-1,u=s.length-1;l>=1&&u>=0&&c[l]!==s[u];)u--;for(;l>=1&&u>=0;l--,u--)if(c[l]!==s[u]){if(1!==l||1!==u)do{if(l--,--u<0||c[l]!==s[u]){var f="\n"+c[l].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),"function"==typeof e&&$.set(e,f),f}}while(l>=1&&u>=0);break}}}finally{D=!1,N.current=o,function(){if(0==--I){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:C({},e,{value:k}),info:C({},e,{value:j}),warn:C({},e,{value:_}),error:C({},e,{value:S}),group:C({},e,{value:E}),groupCollapsed:C({},e,{value:O}),groupEnd:C({},e,{value:R})})}I<0&&h("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}(),Error.prepareStackTrace=a}var p=e?e.displayName||e.name:"",d=p?T(p):"";return"function"==typeof e&&$.set(e,d),d}function z(e,t,r){if(null==e)return"";if("function"==typeof e)return M(e,!(!(n=e.prototype)||!n.isReactComponent));var n;if("string"==typeof e)return T(e);switch(e){case u:return T("Suspense");case f:return T("SuspenseList")}if("object"==typeof e)switch(e.$$typeof){case l:return M(e.render,!1);case p:return z(e.type,t,r);case y:var o=e,a=o._payload,i=o._init;try{return z(i(a),t,r)}catch(e){}}return""}$=new F;var A=Object.prototype.hasOwnProperty,B={},L=g.ReactDebugCurrentFrame;function W(e){if(e){var t=e._owner,r=z(e.type,e._source,t?t.type:null);L.setExtraStackFrame(r)}else L.setExtraStackFrame(null)}var U=Array.isArray;function V(e){return U(e)}function J(e){return""+e}function K(e){if(function(e){try{return J(e),!1}catch(e){return!0}}(e))return h("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",function(e){return"function"==typeof Symbol&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object"}(e)),J(e)}var X,q,H=g.ReactCurrentOwner,G={key:!0,ref:!0,__self:!0,__source:!0};function Q(e,t,n,o,a){var i,c={},s=null,l=null;for(i in void 0!==n&&(K(n),s=""+n),function(e){if(A.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return void 0!==e.key}(t)&&(K(t.key),s=""+t.key),function(e){if(A.call(e,"ref")){var t=Object.getOwnPropertyDescriptor(e,"ref").get;if(t&&t.isReactWarning)return!1}return void 0!==e.ref}(t)&&(l=t.ref,function(e){"string"==typeof e.ref&&H.current}(t)),t)A.call(t,i)&&!G.hasOwnProperty(i)&&(c[i]=t[i]);if(e&&e.defaultProps){var u=e.defaultProps;for(i in u)void 0===c[i]&&(c[i]=u[i])}if(s||l){var f="function"==typeof e?e.displayName||e.name||"Unknown":e;s&&function(e,t){var r=function(){X||(X=!0,h("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};r.isReactWarning=!0,Object.defineProperty(e,"key",{get:r,configurable:!0})}(c,f),l&&function(e,t){var r=function(){q||(q=!0,h("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};r.isReactWarning=!0,Object.defineProperty(e,"ref",{get:r,configurable:!0})}(c,f)}return function(e,t,n,o,a,i,c){var s={$$typeof:r,type:e,key:t,ref:n,props:c,_owner:i,_store:{}};return Object.defineProperty(s._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(s,"_self",{configurable:!1,enumerable:!1,writable:!1,value:o}),Object.defineProperty(s,"_source",{configurable:!1,enumerable:!1,writable:!1,value:a}),Object.freeze&&(Object.freeze(s.props),Object.freeze(s)),s}(e,s,l,a,o,H.current,c)}var Z,ee=g.ReactCurrentOwner,te=g.ReactDebugCurrentFrame;function re(e){if(e){var t=e._owner,r=z(e.type,e._source,t?t.type:null);te.setExtraStackFrame(r)}else te.setExtraStackFrame(null)}function ne(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}function oe(){if(ee.current){var e=x(ee.current.type);if(e)return"\n\nCheck the render method of `"+e+"`."}return""}Z=!1;var ae={};function ie(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var r=function(e){var t=oe();if(!t){var r="string"==typeof e?e:e.displayName||e.name;r&&(t="\n\nCheck the top-level render call using <"+r+">.")}return t}(t);if(!ae[r]){ae[r]=!0;var n="";e&&e._owner&&e._owner!==ee.current&&(n=" It was passed a child from "+x(e._owner.type)+"."),re(e),h('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',r,n),re(null)}}}function ce(e,t){if("object"==typeof e)if(V(e))for(var r=0;r<e.length;r++){var n=e[r];ne(n)&&ie(n,t)}else if(ne(e))e._store&&(e._store.validated=!0);else if(e){var o=function(e){if(null===e||"object"!=typeof e)return null;var t=m&&e[m]||e["@@iterator"];return"function"==typeof t?t:null}(e);if("function"==typeof o&&o!==e.entries)for(var a,i=o.call(e);!(a=i.next()).done;)ne(a.value)&&ie(a.value,t)}}function se(e){var t,r=e.type;if(null!=r&&"string"!=typeof r){if("function"==typeof r)t=r.propTypes;else{if("object"!=typeof r||r.$$typeof!==l&&r.$$typeof!==p)return;t=r.propTypes}if(t){var n=x(r);!function(e,t,r,n,o){var a=Function.call.bind(A);for(var i in e)if(a(e,i)){var c=void 0;try{if("function"!=typeof e[i]){var s=Error((n||"React class")+": "+r+" type `"+i+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[i]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw s.name="Invariant Violation",s}c=e[i](t,i,n,r,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(e){c=e}!c||c instanceof Error||(W(o),h("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",n||"React class",r,i,typeof c),W(null)),c instanceof Error&&!(c.message in B)&&(B[c.message]=!0,W(o),h("Failed %s type: %s",r,c.message),W(null))}}(t,e.props,"prop",n,e)}else if(void 0!==r.PropTypes&&!Z){Z=!0,h("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",x(r)||"Unknown")}"function"!=typeof r.getDefaultProps||r.getDefaultProps.isReactClassApproved||h("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}var le={};function ue(e,t,n,d,m,g){var w=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===i||e===a||e===u||e===f||e===v||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===p||e.$$typeof===c||e.$$typeof===s||e.$$typeof===l||e.$$typeof===b||void 0!==e.getModuleId)}(e);if(!w){var k="";(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(k+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var j;k+=oe(),null===e?j="null":V(e)?j="array":void 0!==e&&e.$$typeof===r?(j="<"+(x(e.type)||"Unknown")+" />",k=" Did you accidentally export a JSX literal instead of a component?"):j=typeof e,h("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",j,k)}var _=Q(e,t,n,m,g);if(null==_)return _;if(w){var S=t.children;if(void 0!==S)if(d)if(V(S)){for(var E=0;E<S.length;E++)ce(S[E],e);Object.freeze&&Object.freeze(S)}else h("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else ce(S,e)}if(A.call(t,"key")){var O=x(e),R=Object.keys(t).filter((function(e){return"key"!==e})),C=R.length>0?"{key: someKey, "+R.join(": ..., ")+": ...}":"{key: someKey}";if(!le[O+C])h('A props object containing a "key" prop is being spread into JSX:\n  let props = %s;\n  <%s {...props} />\nReact keys must be passed directly to JSX without using spread:\n  let props = %s;\n  <%s key={someKey} {...props} />',C,O,R.length>0?"{"+R.join(": ..., ")+": ...}":"{}",O),le[O+C]=!0}return e===o?function(e){for(var t=Object.keys(e.props),r=0;r<t.length;r++){var n=t[r];if("children"!==n&&"key"!==n){re(e),h("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",n),re(null);break}}null!==e.ref&&(re(e),h("Invalid attribute `ref` supplied to `React.Fragment`."),re(null))}(_):se(_),_}var fe=function(e,t,r){return ue(e,t,r,!1)},pe=function(e,t,r){return ue(e,t,r,!0)};d.Fragment=o,d.jsx=fe,d.jsxs=pe}()),d}var v=(p||(p=1,"production"===process.env.NODE_ENV?l.exports=function(){if(s)return u;s=1;var t=e,r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var c,s={},l=null,u=null;for(c in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,c)&&!i.hasOwnProperty(c)&&(s[c]=t[c]);if(e&&e.defaultProps)for(c in t=e.defaultProps)void 0===s[c]&&(s[c]=t[c]);return{$$typeof:r,type:e,key:l,ref:u,props:s,_owner:a.current}}return u.Fragment=n,u.jsx=c,u.jsxs=c,u}():l.exports=y()),l.exports),m=function(e){var s=e.images,l=void 0===s?[]:s,u=e.onSave,f=void 0===u?function(){}:u,p=e.onTrim,d=void 0===p?function(){}:p,y=e.onRevert,m=void 0===y?function(){}:y,g=e.width,h=void 0===g?400:g,b=e.selectionColor,w=void 0===b?"rgba(255, 0, 0, 0.3)":b,x=e.selectionBorder,k=void 0===x?"2px dotted red":x,j=e.activeSelectionColor,_=void 0===j?"rgba(0, 0, 255, 0.3)":j,S=e.activeSelectionBorder,E=void 0===S?"1px solid pink":S,O=t([]),R=r(2),C=R[0],I=R[1],Y=r([]),P=Y[0],N=Y[1],T=r(!1),$=T[0],D=T[1],F=r(Array(l.length).fill(!1)),M=F[0],z=F[1],A=r(null),B=A[0],L=A[1],W=r(0),U=W[0],V=W[1],J=r(0),K=J[0],X=J[1],q=r(!1),H=q[0],G=q[1],Q=r(null),Z=Q[0],ee=Q[1],te=r(null),re=te[0],ne=te[1],oe=r(!1),ae=oe[0],ie=oe[1],ce=function(e){return Math.max(0,Math.min(e,5e5))};n((function(){!function(){a(this,void 0,void 0,(function(){var e,t;return i(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,(n=l[0],new Promise((function(e,t){var r=new Image;r.onload=function(){e({width:r.naturalWidth,height:r.naturalHeight})},r.onerror=function(e){t("Error loading image: "+e)},r.src=n})))];case 1:return e=r.sent(),I(e.width/h),[3,3];case 2:return t=r.sent(),alert("Error loading images,check console."),console.log("Error loading images:",t),[3,3];case 3:return[2]}var n}))}))}()}),[l]);var se=function(e,t,r,n){void 0===n&&(n=null);for(var o=ce(e),a=ce(t),i=o,c=a,s=!0,l=0,u=P.filter((function(e){return e.imageIndex===r&&(null===n||e.id!==n)}));l<u.length;l++){var f=u[l];if(o<=f.startY&&a>=f.endY){s=!1;break}o>=f.startY&&o<=f.endY&&(i=f.endY+1),a>=f.startY&&a<=f.endY&&(c=f.startY-1)}return{start:i=ce(i),end:c=ce(c),shouldCreate:s&&i<c}};n((function(){var e=function(e){return function(e){if(H)G(!1),ee(null),ne(null);else if($&&null!==B){D(!1);var t=document.getElementById("page-".concat(B));if(!t)return;var r=t.getBoundingClientRect(),n=Math.min(Math.max(e.clientY-r.top,0),r.height),o=ce(n),a=Math.min(U,o),i=Math.max(U,o),s=se(a,i,B);s.shouldCreate&&N((function(e){return c(c([],e,!0),[{startY:s.start,endY:s.end,imageIndex:B,id:Date.now()}],!1)})),L(null)}}(e)},t=function(e){return function(e){if($||H)if(H&&null!==Z){var t=P.find((function(e){return e.id===Z}));if(!t)return;if(!(a=document.getElementById("page-".concat(t.imageIndex))))return;var r=a.getBoundingClientRect(),n=ce(e.clientY-r.top);N((function(e){return e.map((function(e){if(e.id===Z){var t=e.startY,r=e.endY;return"top"===re?t=se(Math.min(n,e.endY),e.endY,e.imageIndex,Z).start:"bottom"===re&&(r=se(e.startY,Math.max(n,e.startY),e.imageIndex,Z).end),o(o({},e),{startY:t,endY:r})}return e}))}))}else if($&&null!==B){var a;if(!(a=document.getElementById("page-".concat(B))))return;r=a.getBoundingClientRect();var i=e.clientY-r.top,c=Math.max(0,Math.min(i,r.height));X(ce(c))}}(e)};return window.addEventListener("mouseup",e),window.addEventListener("mousemove",t),function(){window.removeEventListener("mouseup",e),window.removeEventListener("mousemove",t)}}),[$,H,Z,re,B,U]);return v.jsxs("div",{className:"image-trimmer",style:{width:h},children:[v.jsx("div",{className:"controls",style:{padding:"12px",display:"flex",position:"fixed",top:0,zIndex:10,width:"".concat(h,"px"),justifyContent:"space-around",background:"white"},children:ae?v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:function(){z(Array(l.length).fill(!1)),ie(!1),m()},className:"revert",children:"Revert"}),v.jsx("button",{onClick:function(){if(O.current&&f){var e=P.map((function(e){return o(o({},e),{startY:e.startY*C,endY:e.endY*C})}));f({trimSections:e,canvasRefs:O.current})}},className:"save",children:"Save"})]}):P.length>0&&v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:function(){window.confirm("Are you sure you want to delete all selections?")&&N([])},className:"delete-all",children:"Delete All"}),v.jsxs("button",{onClick:function(){l.forEach((function(e,t){var r=O.current[t];r&&function(e,t,r,n){var o=c([],t,!0).sort((function(e,t){return e.imageIndex===t.imageIndex?e.startY-t.startY:e.imageIndex-t.imageIndex})),a=r.getContext("2d");if(a){var i=new Image;i.onload=function(){var e=i.width,t=i.height,c=o.map((function(e){var t=e.startY,r=e.endY;return[t*C,r*C]})),s=t;c.forEach((function(e){var t=e[0],r=e[1];s-=r-t})),r.width=e,r.height=s;var l=0;c.unshift([0,0]),c.push([t,t]);for(var u=1;u<c.length;u++){var f=c[u-1][1],p=c[u][0]-f;p>0&&(a.drawImage(i,0,f,e,p,0,l,e,p),l+=p)}n(!0),ie(!0)},i.src=e}}(e,P.filter((function(e){return e.imageIndex===t})),r,(function(e){z((function(r){var n=c([],r,!0);return n[t]=e,n}))}))})),d()},className:"trim-all",children:["Trim (",P.length,")"]})]})}),v.jsx("div",{style:{userSelect:"none",paddingTop:"50px"},className:"images-container",children:l.map((function(e,t){return v.jsxs("div",{id:"page-".concat(t),className:"image-wrapper",children:[v.jsx("canvas",{ref:function(e){O.current[t]=e},style:{height:"auto",width:"".concat(h,"px"),display:M[t]?"inherit":"none"}}),!M[t]&&v.jsxs("div",{style:{position:"relative"},children:[P.map((function(e){return e.imageIndex===t&&function(e){var t=e.startY,r=e.endY,n=e.id,o=r-t,a=function(e,t,r){e.stopPropagation(),G(!0),ee(t),ne(r)};return v.jsxs("div",{className:"selection-box",style:{position:"absolute",left:0,top:"".concat(t,"px"),width:"".concat(h-4,"px"),height:"".concat(o,"px"),backgroundColor:w,border:k,pointerEvents:"none"},children:[v.jsx("div",{className:"resize-handle top",style:{position:"absolute",top:"-4px",left:0,width:"100%",height:"8px",cursor:"ns-resize",backgroundColor:"transparent",pointerEvents:"auto"},onMouseDown:function(e){return a(e,n,"top")}}),v.jsx("div",{className:"resize-handle bottom",style:{position:"absolute",bottom:"-4px",left:0,width:"100%",height:"8px",cursor:"ns-resize",backgroundColor:"transparent",pointerEvents:"auto"},onMouseDown:function(e){return a(e,n,"bottom")}}),v.jsx("button",{className:"delete-button",style:{position:"absolute",right:"2px",top:"7px",transform:"translateY(-50%)",cursor:"pointer",pointerEvents:"auto",zIndex:10,padding:"0px",backgroundColor:"transparent",border:"transparent",borderRadius:"4px",fontSize:"18px"},onClick:function(e){e.stopPropagation(),N((function(e){return e.filter((function(e){return e.id!==n}))}))},children:"×"})]},n)}(e)})),v.jsx("img",{src:e,onMouseDown:function(e){return function(e,t){L(t),D(!0);var r=document.getElementById("page-".concat(t));if(r){var n=r.getBoundingClientRect(),o=e.clientY-n.top;V(ce(o))}}(e,t)},alt:"Original ".concat(t+1),style:{height:"auto",width:"".concat(h,"px"),cursor:"crosshair",background:"red",marginBottom:"-4px"},draggable:!1}),$&&B===t&&v.jsx("div",{style:{position:"absolute",left:0,zIndex:"20",top:"".concat(Math.min(U,K),"px"),width:"".concat(h,"px"),height:"".concat(Math.abs(K-U),"px"),backgroundColor:_,border:E,pointerEvents:"none"}})]})]},t)}))})]})};export{m as default};
//# sourceMappingURL=index.js.map
er:j,pointerEvents:"none"}})]})]},t)}))})]})};
//# sourceMappingURL=index.js.map
